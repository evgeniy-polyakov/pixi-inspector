/*!
 * pixi-inspector - v1.0.7
 * Compiled Sat, 24 Apr 2021 22:01:16 UTC
 *
 * pixi-inspector is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.pixiInspector=e()}}(function(){return function(){function e(t,n,i){function o(a,c){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(r)return r(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var p=n[a]={exports:{}};t[a][0].call(p.exports,function(e){return o(t[a][1][e]||e)},p,p.exports,e,t,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}return e}()({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ContextMenu=void 0;var i=e("pixi.js"),o=e("./inspect"),r=function(){function e(e,t,n,i){var o=this,r=document.createElement("div");r.style.position="fixed",r.className="pixi-inspector-context-anchor",document.body.append(r);var a=document.createElement("ul");a.innerHTML=this.dataToHtml(n,"0",0),a.style.margin="0",a.className="pixi-inspector-context-menu pixi-inspector-context-menu-"+i,r.append(a);var c=Math.max(0,Math.min(window.innerWidth-a.clientWidth,e.clientX)),s=Math.max(0,Math.min(window.innerHeight-a.clientHeight,e.clientY));r.style.top=s+"px",r.style.left=c+"px",a.querySelectorAll("li").forEach(function(e){var t;null===(t=e.querySelector("label"))||void 0===t||t.addEventListener("click",function(t){o.inspectElement(e)}),e.querySelectorAll("span[data-texture]").forEach(function(e){e.addEventListener("mouseover",function(t){o.showTexturePopup(e)}),e.addEventListener("mouseout",function(e){o.hideTexturePopup()})})}),this._data=n,this._root=r,this._style=i,this._renderer=t}return e.prototype.destroy=function(){this._root.remove()},e.prototype.dataToHtml=function(e,t,n){var i=this;return'<li data-id="'+t+'" data-visible="'+(e.target.worldVisible&&e.target.worldAlpha>0)+'">\n<label style="padding-left:'+(1.4*n+.8)+'em">'+this.getItemName(e,t)+"</label>\n<ul>"+e.children.map(function(e,o){return i.dataToHtml(e,t+"-"+o,n+1)}).join("")+'</ul>\n<div style="left:'+(1.4*n+.5-.8)+'em" class="branch"></div>\n</li>'},e.prototype.getItemName=function(e,t){var n="<span>"+this.getClassName(e.target)+"</span>",o=e.target.texture;return o instanceof i.Texture&&(e.texture=o,n+='<span>:&nbsp;</span><span data-texture="'+t+'">'+(o===i.Texture.EMPTY?"<u>empty</u>":o===i.Texture.WHITE?"<u>white</u>":o instanceof i.RenderTexture?"<u>rendered</u>":o.textureCacheIds&&o.textureCacheIds.length>0?o.textureCacheIds.slice(0,2).map(function(e){return"<u>"+e+"</u>"}).join("<span>,&nbsp</span>"):"<u>unnamed</u>")+"</span>"),n},e.prototype.getClassName=function(e){var t;if(e.constructor)if(e.constructor.name)t=e.constructor.name;else{var n=/function\s+(\w+)\(/.exec(e.constructor.toString());t=n?n[1]:void 0}return t||"DisplayObject"},e.prototype.getData=function(e,t){if(e)return t.shift(),0===t.length?e:this.getData(e.children[t[0]],t)},e.prototype.inspectElement=function(e){var t,n=null===(t=e.dataset.id)||void 0===t?void 0:t.split("-").map(function(e){return parseInt(e)});if(n){var i=this.getData(this._data,n);i&&o.inspect.call(i.target)}},e.prototype.showTexturePopup=function(e){var t;this.hideTexturePopup();var n=null===(t=e.dataset.texture)||void 0===t?void 0:t.split("-").map(function(e){return parseInt(e)});if(n){var o=this.getData(this._data,n);if(null===o||void 0===o?void 0:o.texture){var r=this._renderer;if(r&&r.extract&&"function"==typeof r.extract.image){var a=12*window.innerWidth/100,c=new i.Sprite(o.texture),s=Math.min(1,a/c.width,a/c.height);c.scale.set(s);var u=new i.Container;u.addChild(c);var p=r.extract.canvas(u),l=this._root.getBoundingClientRect(),d=e.parentElement.getBoundingClientRect();this._root.append(p),p.className="pixi-inspector-texture-popup pixi-inspector-texture-popup-"+this._style,p.style.position="absolute",o.texture.width>o.texture.height?p.style.maxWidth="12vw":p.style.maxHeight="12vw";var h=Math.max(-l.top,Math.min(d.top-l.top,window.innerHeight-p.clientHeight-l.top));p.style.top=h+"px";l.right+p.clientWidth>window.innerWidth?p.style.right="100%":p.style.left="100%",this._textureImage=p}}}},e.prototype.hideTexturePopup=function(){this._textureImage&&(this._textureImage.remove(),this._textureImage=void 0)},e}();n.ContextMenu=r},{"./inspect":4,"pixi.js":void 0}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PixiInspector=void 0;var i=e("pixi.js"),o=e("./ContextMenu"),r=e("./StyleSheet"),a=function(){function e(e,t,n){var r=this;this._tempRect=new i.Rectangle,this._enabled=!1,this.disablePixiRightClick=function(e){e.target===r._renderer.view&&(r._contextMenu&&(r._contextMenu.destroy(),r._contextMenu=void 0),e instanceof PointerEvent&&"mouse"!==e.pointerType||2!==e.button||(e.preventDefault(),e.stopPropagation()))},this.showContextMenu=function(e){if(e.target===r._renderer.view){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();var t=r.getStagePoint(e),n=r.getContextMenuData(t,r._root);n&&(r._contextMenu&&r._contextMenu.destroy(),r._contextMenu=new o.ContextMenu(e,r._renderer,n,r._style))}},this._root=e,this._renderer=t,this._interaction=this._renderer.plugins.interaction,this._styleSheet=this.createStyleSheet(),this._style=n||this.detectStyle(),this.enabled=!0}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled!=e&&(this._enabled=e,e?(document.head.appendChild(this._styleSheet),document.addEventListener("pointerdown",this.disablePixiRightClick,!0),document.addEventListener("mousedown",this.disablePixiRightClick,!0),document.addEventListener("contextmenu",this.showContextMenu,!0)):(document.head.removeChild(this._styleSheet),document.removeEventListener("pointerdown",this.disablePixiRightClick,!0),document.removeEventListener("mousedown",this.disablePixiRightClick,!0),document.removeEventListener("contextmenu",this.showContextMenu,!0)))},enumerable:!1,configurable:!0}),e.prototype.getStagePoint=function(e){var t={x:0,y:0};return this._interaction.mapPositionToPoint(t,e.clientX,e.clientY),t},e.prototype.flattenDescendants=function(e,t){if(e instanceof i.Container&&e.children.length>0)for(var n=0,o=e.children;n<o.length;n++){var r=o[n];this.flattenDescendants(r,t)}else t.push(e);return t},e.prototype.getContextMenuData=function(e,t){var n=this,i=this.flattenDescendants(t,[]).filter(function(t){var i=t.getBounds(!1,n._tempRect);return e.x>=i.x&&e.x<=i.x+i.width&&e.y>=i.y&&e.y<=i.y+i.height});if(i.length>0){for(var o=[],r=void 0,a=0,c=i;a<c.length;a++){var s=c[a];!function(e){for(var n={target:e,children:[]},i=e.parent;i;){var a=o.filter(function(e){return e.target===i})[0];a?a.children.indexOf(n)<0&&a.children.push(n):(a={target:i,children:[n]},o.push(a)),i===t&&(r=a),n=a,i=i.parent}}(s)}return r}},e.prototype.createStyleSheet=function(){var e=document.createElement("style");return e.innerText=r.StyleSheet,e},e.prototype.detectStyle=function(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},e}();n.PixiInspector=a},{"./ContextMenu":1,"./StyleSheet":3,"pixi.js":void 0}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.StyleSheet=void 0,n.StyleSheet="\n    .pixi-inspector-context-menu,\n    .pixi-inspector-context-menu ul {\n        list-style: none;\n        margin: 0;\n        padding: 0;\n    }\n\n    .pixi-inspector-texture-popup,\n    .pixi-inspector-context-menu {\n        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        font-size: 12px;\n        color: #202124;\n        background: #fff;\n        border: 1px solid #dadce0;\n        box-shadow: 4px 4px 3px -1px rgba(0, 0, 0, 0.5);\n        line-height: 1.2;\n        max-height: 100vh;\n        max-width: 100vw;\n        overflow: auto;\n    }\n\n    .pixi-inspector-context-menu > li:first-child {\n        padding-top: 0.25em;\n    }\n\n    .pixi-inspector-context-menu > li:last-child {\n        padding-bottom: 0.25em;\n    }\n\n    .pixi-inspector-context-menu ul li {\n        padding: 0;\n        position: relative;\n    }\n\n    .pixi-inspector-context-menu li label {\n        display: block;\n        padding: 0 1.4em;\n        white-space: nowrap;\n        cursor: pointer;\n    }\n\n    .pixi-inspector-context-menu li label span {\n        padding: 0.3em 0;\n        display: inline-block;\n    }\n\n    .pixi-inspector-context-menu li label:hover {\n        background: #c8c8c9;\n    }\n\n    .pixi-inspector-context-menu ul > li > .branch {\n        position: absolute;\n        top: 0;\n        left: 0;\n        height: 100%;\n        width: 0.8em;\n        border-left: #72777c 1px dotted;\n        pointer-events: none;\n    }\n\n    .pixi-inspector-context-menu ul > li > .branch:before {\n        content: '';\n        position: absolute;\n        top: 0.9em;\n        left: 0;\n        width: 100%;\n        border-top: #72777c 1px dotted;\n    }\n\n    .pixi-inspector-context-menu ul > li:last-child > .branch {\n        height: 0.8em;\n    }\n\n    .pixi-inspector-context-menu li[data-visible=false] {\n        color: #72777c;\n    }\n\n    .pixi-inspector-context-menu span[data-texture] u {\n        text-decoration: underline;\n    }\n\n    .pixi-inspector-texture-popup {\n        min-width: 72px;\n        object-fit: contain;\n        object-position: center;\n        pointer-events: none;\n        background-image: url(\"data:image/svg+xml;utf8,"+encodeURIComponent('<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><rect height="12" width="12" y="0" x="12" fill="#dadce0"/><rect height="12" width="12" y="12" x="0" fill="#dadce0"/></svg>')+'");\n    }\n\n    .pixi-inspector-texture-popup-dark {\n        background-image: url("data:image/svg+xml;utf8,'+encodeURIComponent('<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><rect height="12" width="12" y="0" x="12" fill="#3c4043"/><rect height="12" width="12" y="12" x="0" fill="#3c4043"/></svg>')+'");\n    }\n\n    .pixi-inspector-context-menu-dark,\n    .pixi-inspector-texture-popup-dark {\n        color: #e8eaed;\n        background-color: #292a2d;\n        border-color: #3c4043;\n    }\n\n    .pixi-inspector-context-menu-dark li label:hover {\n        background-color: #4b4c4f;\n    }\n\n    .pixi-inspector-context-menu-dark ul > li > .branch,\n    .pixi-inspector-context-menu-dark ul > li > .branch:before {\n        border-color: #8b9196;\n    }\n\n    .pixi-inspector-context-menu-dark li[data-visible=false] {\n        color: #8b9196;\n    }\n'},{}],4:[function(e,t,n){"use strict";function i(){}Object.defineProperty(n,"__esModule",{value:!0}),n.inspect=void 0,n.inspect=i},{}],5:[function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),o(e("./PixiInspector"),n)},{"./PixiInspector":2}]},{},[5])(5)});
//# sourceMappingURL=pixi-inspector.min.js.map
